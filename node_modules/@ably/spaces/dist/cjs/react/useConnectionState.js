"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useConnectionState = void 0;
const react_1 = require("react");
const useEventListener_js_1 = require("./useEventListener.js");
const failedStateEvents = ['suspended', 'failed', 'disconnected'];
const successStateEvents = ['connected', 'closed'];
const useConnectionState = (emitter) => {
    const [connectionError, setConnectionError] = (0, react_1.useState)(null);
    (0, useEventListener_js_1.useEventListener)(emitter, (stateChange) => {
        if (stateChange.reason) {
            setConnectionError(stateChange.reason);
        }
    }, failedStateEvents);
    (0, useEventListener_js_1.useEventListener)(emitter, () => {
        setConnectionError(null);
    }, successStateEvents);
    return connectionError;
};
exports.useConnectionState = useConnectionState;
//# sourceMappingURL=useConnectionState.js.map