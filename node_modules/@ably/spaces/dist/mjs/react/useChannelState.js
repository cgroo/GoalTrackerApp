import { useState } from 'react';
import { useEventListener } from './useEventListener.js';
const failedStateEvents = ['suspended', 'failed', 'detached'];
const successStateEvents = ['attached'];
/**
 * todo use `ably/react` hooks instead
 */
export const useChannelState = (emitter) => {
    const [channelError, setChannelError] = useState(null);
    useEventListener(emitter, (stateChange) => {
        if (stateChange.reason) {
            setChannelError(stateChange.reason);
        }
    }, failedStateEvents);
    useEventListener(emitter, () => {
        setChannelError(null);
    }, successStateEvents);
    return channelError;
};
//# sourceMappingURL=useChannelState.js.map